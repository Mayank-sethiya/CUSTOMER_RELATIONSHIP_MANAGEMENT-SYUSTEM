
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - TrackForce CRM</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        /* General Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }


        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #764ba2 0%, #764ba2 100%);
            color: #f1f5f9;
            transition: all 0.3s ease;
            min-height: 100vh;
            overflow-y: auto;
        }

        /* Light Theme Variables */
        body[data-theme="light"] {
            background: linear-gradient(135deg, #764ba2 0%, #764ba2 100%);
            color: #1e293b;
        }

        :root {
            --primary: #6366f1;
            --text-primary: #f1f5f9;
            --text-secondary: #94a3b8;
            --border: rgba(71, 85, 105, 0.5);
            --shadow: rgba(0, 0, 0, 0.3);
            --sidebar-bg: #1e293b;
            --card-bg: #1e293b;
            --sidebar-text: #f1f5f9;
            --sidebar-text-secondary: #94a3b8;
        }

        body[data-theme="light"] {
            --text-primary: #1e293b;
            --text-secondary: #64748b;
            --border: rgba(226, 232, 240, 0.5);
            --shadow: rgba(0, 0, 0, 0.1);
            --sidebar-bg: #ffffff;
            --card-bg: #ffffff;
            --sidebar-text: #1e293b;
            --sidebar-text-secondary: #64748b;
        }

        /* Header Styles */
        .header {
            background: var(--sidebar-bg);
            backdrop-filter: blur(10px);
            padding: 15px 30px;
            box-shadow: 0 2px 20px var(--shadow);
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 25px;
        }

        .back-button {
            background: rgba(99, 102, 241, 0.2);
            color: var(--primary);
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 18px;
        }

        .back-button:hover {
            background: var(--primary);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(99, 102, 241, 0.4);
        }

        .admin-welcome {
            font-size: 20px;
            font-weight: 600;
            color: var(--sidebar-text);
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .theme-toggle {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: none;
            background: rgba(99, 102, 241, 0.2);
            color: var(--primary);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            font-size: 18px;
        }

        .theme-toggle:hover {
            background: var(--primary);
            color: white;
            transform: translateY(-2px);
        }

        .logout-btn {
            background: linear-gradient(135deg, #ef4444, #dc2626);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .logout-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(220, 38, 38, 0.4);
        }

        /* Sidebar Styles */
        .sidebar {
            width: 280px;
            background: var(--sidebar-bg);
            backdrop-filter: blur(10px);
            height: 100vh;
            position: fixed;
            top: 0;
            left: 0;
            padding-top: 80px;
            box-shadow: 2px 0 20px var(--shadow);
            z-index: 900;
            transition: all 0.3s ease;
            overflow-y: auto;
        }

        .sidebar-header {
            padding: 30px;
            text-align: center;
            border-bottom: 1px solid var(--border);
        }

        .sidebar-title {
            font-size: 22px;
            font-weight: 700;
            color: var(--sidebar-text);
            margin-bottom: 5px;
        }

        .sidebar-subtitle {
            font-size: 14px;
            color: var(--sidebar-text-secondary);
        }

        .sidebar-nav {
            padding: 20px 0;
        }

        .nav-section {
            margin-bottom: 20px;
        }

        .nav-section-title {
            font-size: 14px;
            font-weight: 600;
            color: var(--sidebar-text-secondary);
            padding: 0 30px;
            margin-bottom: 15px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 12px 30px;
            color: var(--sidebar-text);
            text-decoration: none;
            transition: all 0.3s ease;
            border-radius: 10px;
            border: none;
            background: transparent;
            cursor: pointer;
            width: 100%;
            text-align: left;
            font-size: 15px;
            font-weight: 500;
        }

        .nav-item:hover,
        .nav-item.active {
            background: rgba(99, 102, 241, 0.1);
            color: var(--primary);
        }

        .nav-item i {
            font-size: 18px;
            width: 24px;
        }

        /* Main Container Styles */
        .main-container {

                margin-left: 280px;
                padding: 80px 40px 40px;
                transition: margin-left 0.3s ease;
                overflow-y: auto;
                max-height: calc(100vh - 0px);
            }

            /* Welcome Section Styles */
            .welcome-section {
                background: var(--card-bg);
                border-radius: 20px;
                padding: 40px;
                box-shadow: 0 8px 30px var(--shadow);
                border: 1px solid var(--border);
                margin-bottom: 30px;
            }

            .welcome-title {
                font-size: 32px;
                font-weight: 700;
                color: var(--text-primary);
                margin-bottom: 15px;
            }

            .welcome-subtitle {
                font-size: 18px;
                color: var(--text-secondary);
                line-height: 1.6;
            }

            .welcome-stats {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                gap: 20px;
                margin-top: 30px;
            }

            /* Colorful Stat Cards with Side Colors */
            .stat-card {
                background: var(--card-bg);
                border-radius: 15px;
                padding: 25px;
                text-align: center;
                box-shadow: 0 5px 20px var(--shadow);
                transition: all 0.3s ease;
                position: relative;
                overflow: hidden;
                border: 1px solid var(--border);
            }

            .stat-card::before {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                bottom: 0;
                width: 4px;
                transition: all 0.3s ease;
            }

            .stat-card:nth-child(1)::before {
                background: linear-gradient(135deg, #e74c3c, #c0392b);
            }

            .stat-card:nth-child(2)::before {
                background: linear-gradient(135deg, #3498db, #2980b9);
            }

            .stat-card:nth-child(3)::before {
                background: linear-gradient(135deg, #2ecc71, #27ae60);
            }

            .stat-card:nth-child(4)::before {
                background: linear-gradient(135deg, #9b59b6, #8e44ad);
            }

            .stat-card:hover {
                transform: translateY(-5px);
                box-shadow: 0 8px 25px var(--shadow);
            }

            .stat-card:hover::before {
                width: 6px;
            }

            .stat-number {
                font-size: 28px;
                font-weight: 700;
                margin-bottom: 8px;
            }

            .stat-card:nth-child(1) .stat-number {
                color: #e74c3c;
            }

            .stat-card:nth-child(2) .stat-number {
                color: #3498db;
            }

            .stat-card:nth-child(3) .stat-number {
                color: #2ecc71;
            }

            .stat-card:nth-child(4) .stat-number {
                color: #9b59b6;
            }

            .stat-label {
                font-size: 15px;
                color: var(--text-secondary);
                font-weight: 500;
            }



        /* Dashboard-specific styles that inherit from control panel */
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .dashboard-card {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 20px var(--shadow);
            border: 1px solid var(--border);
            transition: all 0.3s ease;
        }

        .dashboard-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px var(--shadow);
        }

        .card-header {
            display: flex;
            justify-content: between;
            align-items: center;
            margin-bottom: 20px;
        }

        .card-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .card-title i {
            color: var(--primary);
        }

        .chart-container {
            position: relative;
            height: 200px;
            margin-bottom: 15px;
        }

        .activity-list {
            list-style: none;
            padding: 0;
        }

        .activity-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 12px 0;
            border-bottom: 1px solid var(--border);
        }

        .activity-item:last-child {
            border-bottom: none;
        }

        .activity-icon {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            color: white;
        }

        .activity-icon.user { background: #3498db; }
        .activity-icon.contact { background: #2ecc71; }
        .activity-icon.message { background: #9b59b6; }
        .activity-icon.alert { background: #e74c3c; }

        .activity-content {
            flex: 1;
        }

        .activity-title {
            font-weight: 500;
            color: var(--text-primary);
            margin-bottom: 3px;
        }

        .activity-time {
            font-size: 12px;
            color: var(--text-secondary);
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: var(--border);
            border-radius: 4px;
            overflow: hidden;
            margin: 10px 0;
        }

        .progress-fill {
            height: 100%;
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        .quick-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .action-btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(99, 102, 241, 0.4);
        }

        .metric-value {
            font-size: 24px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 5px;
        }

        .metric-label {
            font-size: 14px;
            color: var(--text-secondary);
        }

        .metric-change {
            font-size: 12px;
            font-weight: 500;
            margin-top: 5px;
        }

        .metric-change.positive { color: #2ecc71; }
        .metric-change.negative { color: #e74c3c; }

        .table-container {
            overflow-x: auto;
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        .data-table th,
        .data-table td {
            text-align: left;
            padding: 12px;
            border-bottom: 1px solid var(--border);
        }

        .data-table th {
            font-weight: 600;
            color: var(--text-primary);
            background: var(--border);
        }

        .data-table td {
            color: var(--text-secondary);
        }

        .status-badge {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 500;
        }

        .status-active { background: #d4edda; color: #155724; }
        .status-pending { background: #fff3cd; color: #856404; }
        .status-inactive { background: #f8d7da; color: #721c24; }

        /* Toast Notification Styles */
        .toast {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 25px;
            border-radius: 10px;
            color: white;
            font-weight: 500;
            z-index: 10000;
            animation: slideIn 0.3s ease;
            display: none;
        }

        .toast.success { background: var(--primary); }
        .toast.warning { background: #f59e0b; }
        .toast.error { background: #ef4444; }

        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        @media (max-width: 768px) {
            .sidebar {
                width: 100%;
                height: auto;
                position: static;
                padding: 20px;
                box-shadow: none;
                transform: translateX(-100%);
                transition: transform 0.5s ease;
            }

            .sidebar.active {
                transform: translateX(0);
            }

            .main-container {
                margin-left: 0;
                padding: 20px;
                max-height: none;
            }

            .dashboard-grid {
                grid-template-columns: 1fr;
            }

            .quick-actions {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body data-theme="dark">

<div class="header">

    <div class="header-left">
        <button class="back-button" onclick="goBack()">
            <i class="fas fa-arrow-left"></i>
        </button>
        <span class="admin-welcome" id="adminWelcome">Welcome, Admin!</span>
    </div>
    <div class="header-right">
        <button class="theme-toggle" onclick="toggleTheme()">
            <i class="fas fa-adjust"></i>
        </button>
        <button class="logout-btn" onclick="logout()">
            <i class="fas fa-sign-out-alt"></i> Logout
        </button>
    </div>
</div>

<div class="sidebar">
    <div class="sidebar-header">
        <h2 class="sidebar-title">TrackForce CRM</h2>
        <span class="sidebar-subtitle">Admin Panel</span>
    </div>

    <nav class="sidebar-nav">
        <div class="nav-section">
            <div class="nav-section-title">Main</div>
            <button class="nav-item active" onclick="showDashboard()">
                <i class="fas fa-tachometer-alt"></i>
                <span>Dashboard</span>
            </button>
        </div>

        <div class="nav-section">
            <div class="nav-section-title">Management</div>
            <button class="nav-item" onclick="navigateToPage('user-management.html')">
                <i class="fas fa-users"></i>
                <span>User Management</span>
            </button>
            <button class="nav-item" onclick="navigateToPage('analytics-dashboard.html')">
                <i class="fas fa-chart-bar"></i>
                <span>Analytics Dashboard</span>
            </button>
            <button class="nav-item" onclick="navigateToPage('contact-management.html')">
                <i class="fas fa-address-book"></i>
                <span>Contact Management</span>
            </button>
            <button class="nav-item" onclick="navigateToPage('system-settings.html')">
                <i class="fas fa-cog"></i>
                <span>System Settings</span>
            </button>
            <button class="nav-item" onclick="navigateToPage('broadcast-messaging.html')">
                <i class="fas fa-broadcast-tower"></i>
                <span>Broadcast Messaging</span>
            </button>
        </div>

        <div class="nav-section">
            <div class="nav-section-title">Support</div>
            <button class="nav-item" onclick="showHelpCenter()">
                <i class="fas fa-question-circle"></i>
                <span>Help Center</span>
            </button>
            <button class="nav-item" onclick="showContactSupport()">
                <i class="fas fa-envelope"></i>
                <span>Contact Support</span>
            </button>
        </div>
    </nav>
</div>

<div class="main-container">
    <!-- Dashboard Overview Cards -->
    <section class="welcome-section">
        <h1 class="welcome-title">Admin Control Panel</h1>
        <p class="welcome-subtitle">Welcome to the TrackForce CRM Admin Panel. From here you can manage users, monitor analytics, and configure system settings. Use the navigation menu to access different sections of the admin interface.</p>

        <div class="welcome-stats">
            <div class="stat-card">
                <div class="stat-number" id="userCount">0</div>
                <div class="stat-label">Total Users</div>
            </div>


        <div class="stat-card">
            <div class="stat-number" id="activeUsersCount">0</div>
            <div class="stat-label">Active Users</div>

        </div>
            <div class="stat-card">
                <div class="stat-number">89</div>
                <div class="stat-label">New Sign-ups</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">$8,500</div>
                <div class="stat-label">Revenue</div>
            </div>
        </div>
    </section>
    <div class="dashboard-grid">
        <!-- Revenue Chart -->
        <div class="dashboard-card">
            <div class="card-header">
                <h3 class="card-title">
                    <i class="fas fa-chart-line"></i>
                    Revenue Trends
                </h3>
            </div>
            <div class="chart-container">
                <canvas id="revenueChart"></canvas>
            </div>
            <div class="metric-value">$45,780</div>
            <div class="metric-label">Total Revenue This Month</div>
            <div class="metric-change positive">↑ 12.5% from last month</div>
        </div>

        <!-- User Activity -->
        <div class="dashboard-card">
            <div class="card-header">
                <h3 class="card-title">
                    <i class="fas fa-users"></i>
                    User Activity
                </h3>
            </div>
            <div class="chart-container">
                <canvas id="userChart"></canvas>
            </div>
            <div class="metric-value">1,247</div>
            <div class="metric-label">Active Users Today</div>
            <div class="metric-change positive">↑ 8.3% from yesterday</div>
        </div>

        <!-- Recent Activities -->
        <div class="dashboard-card">
            <div class="card-header">
                <h3 class="card-title">
                    <i class="fas fa-clock"></i>
                    Recent Activities
                </h3>
            </div>
            <ul class="activity-list">
                <li class="activity-item">
                    <div class="activity-icon user">
                        <i class="fas fa-user"></i>
                    </div>
                    <div class="activity-content">
                        <div class="activity-title">New user registered</div>
                        <div class="activity-time">2 minutes ago</div>
                    </div>
                </li>
                <li class="activity-item">
                    <div class="activity-icon contact">
                        <i class="fas fa-address-book"></i>
                    </div>
                    <div class="activity-content">
                        <div class="activity-title">Contact updated</div>
                        <div class="activity-time">5 minutes ago</div>
                    </div>
                </li>
                <li class="activity-item">
                    <div class="activity-icon message">
                        <i class="fas fa-envelope"></i>
                    </div>
                    <div class="activity-content">
                        <div class="activity-title">Broadcast message sent</div>
                        <div class="activity-time">15 minutes ago</div>
                    </div>
                </li>
                <li class="activity-item">
                    <div class="activity-icon alert">
                        <i class="fas fa-exclamation-triangle"></i>
                    </div>
                    <div class="activity-content">
                        <div class="activity-title">System alert triggered</div>
                        <div class="activity-time">1 hour ago</div>
                    </div>
                </li>
            </ul>
        </div>

        <!-- System Performance -->
        <div class="dashboard-card">
            <div class="card-header">
                <h3 class="card-title">
                    <i class="fas fa-server"></i>
                    System Performance
                </h3>
            </div>
            <div style="margin-bottom: 15px;">
                <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                    <span style="color: var(--text-secondary);">CPU Usage</span>
                    <span style="color: var(--text-primary); font-weight: 500;">45%</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 45%; background: #3498db;"></div>
                </div>
            </div>
            <div style="margin-bottom: 15px;">
                <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                    <span style="color: var(--text-secondary);">Memory Usage</span>
                    <span style="color: var(--text-primary); font-weight: 500;">72%</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 72%; background: #f39c12;"></div>
                </div>
            </div>
            <div>
                <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                    <span style="color: var(--text-secondary);">Storage Usage</span>
                    <span style="color: var(--text-primary); font-weight: 500;">34%</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 34%; background: #2ecc71;"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Quick Actions -->
    <div class="dashboard-card">
        <div class="card-header">
            <h3 class="card-title">
                <i class="fas fa-bolt"></i>
                Quick Actions
            </h3>
        </div>
        <div class="quick-actions">
            <button class="action-btn" onclick="createUser()">
                <i class="fas fa-user-plus"></i>
                Add User
            </button>
            <button class="action-btn" onclick="sendBroadcast()">
                <i class="fas fa-broadcast-tower"></i>
                Send Broadcast
            </button>
            <button class="action-btn" onclick="exportData()">
                <i class="fas fa-download"></i>
                Export Data
            </button>
            <button class="action-btn" onclick="generateReport()">
                <i class="fas fa-file-pdf"></i>
                Generate Report
            </button>
        </div>
    </div>

    <!-- Recent Users Table -->
    <div class="dashboard-card">
        <div class="card-header">
            <h3 class="card-title">
                <i class="fas fa-table"></i>
                Recent Users
            </h3>
        </div>
        <div class="table-container">
            <table class="data-table">
                <thead>
                <tr>
                    <th>Name</th>
                    <th>Email</th>
                    <th>Status</th>
                    <th>Last Login</th>
                    <th>Actions</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>John Doe</td>
                    <td>john@example.com</td>
                    <td><span class="status-badge status-active">Active</span></td>
                    <td>2 hours ago</td>
                    <td>
                        <button onclick="editUser('john')" style="background: none; border: none; color: var(--primary); cursor: pointer;">
                            <i class="fas fa-edit"></i>
                        </button>
                    </td>
                </tr>
                <tr>
                    <td>Jane Smith</td>
                    <td>jane@example.com</td>
                    <td><span class="status-badge status-pending">Pending</span></td>
                    <td>1 day ago</td>
                    <td>
                        <button onclick="editUser('jane')" style="background: none; border: none; color: var(--primary); cursor: pointer;">
                            <i class="fas fa-edit"></i>
                        </button>
                    </td>
                </tr>
                <tr>
                    <td>Mike Johnson</td>
                    <td>mike@example.com</td>
                    <td><span class="status-badge status-inactive">Inactive</span></td>
                    <td>3 days ago</td>
                    <td>
                        <button onclick="editUser('mike')" style="background: none; border: none; color: var(--primary); cursor: pointer;">
                            <i class="fas fa-edit"></i>
                        </button>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

<div class="toast success">Success message here</div>
<div class="toast warning">Warning message here</div>
<div class="toast error">Error message here</div>

<script>



document.addEventListener('DOMContentLoaded', function () {
        // Get admin name from localStorage and update welcome message
        const adminName = localStorage.getItem('adminName');
        const adminWelcome = document.getElementById('adminWelcome');
        if (adminName) {
            adminWelcome.textContent = `Hi ${adminName}!`;
        }

        // Initialize charts when dashboard loads
        initializeCharts();
    });

    // Theme toggle function
    function toggleTheme() {
        const body = document.body;
        if (body.getAttribute('data-theme') === 'dark') {
            body.setAttribute('data-theme', 'light');
        } else {
            body.setAttribute('data-theme', 'dark');
        }
    }

    // Navigation functions
    function goBack() {
        window.location.href = '../index.html';
    }

    function logout() {
        // Clear localStorage
        localStorage.removeItem('adminName');
        // Redirect to home page
        window.location.href = '../index.html';
    }

    function navigateToPage(pageName) {
        window.location.href = pageName;
    }

    function showDashboard() {
        // Highlight the active state
        const navItems = document.querySelectorAll('.nav-item');
        navItems.forEach(item => item.classList.remove('active'));
        event.target.closest('.nav-item').classList.add('active');

        // Show toast notification
        showToast('Dashboard loaded successfully!');
    }

    function showHelpCenter() {
        alert('Help Center functionality will be implemented soon!');
    }

    function showContactSupport() {
        alert('Contact Support functionality will be implemented soon!');
    }

    // Toast notification function
    function showToast(message, type = 'success') {
        const toast = document.querySelector(`.toast.${type}`);
        toast.textContent = message;
        toast.style.display = 'block';

        setTimeout(() => {
            toast.style.display = 'none';
        }, 3000);
    }

    function initializeCharts() {
        // Revenue Chart
        const revenueCtx = document.getElementById('revenueChart').getContext('2d');
        new Chart(revenueCtx, {
            type: 'line',
            data: {
                labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                datasets: [{
                    label: 'Revenue',
                    data: [12000, 19000, 15000, 25000, 32000, 45780],
                    borderColor: '#6366f1',
                    backgroundColor: 'rgba(99, 102, 241, 0.1)',
                    tension: 0.4,
                    fill: true
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        display: false
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        grid: {
                            color: 'rgba(71, 85, 105, 0.2)'
                        },
                        ticks: {
                            color: '#94a3b8'
                        }
                    },
                    x: {
                        grid: {
                            color: 'rgba(71, 85, 105, 0.2)'
                        },
                        ticks: {
                            color: '#94a3b8'
                        }
                    }
                }
            }
        });

        // User Activity Chart
        const userCtx = document.getElementById('userChart').getContext('2d');
        new Chart(userCtx, {
            type: 'doughnut',
            data: {
                labels: ['Active', 'Inactive', 'Pending'],
                datasets: [{
                    data: [568, 124, 89],
                    backgroundColor: ['#2ecc71', '#e74c3c', '#f39c12'],
                    borderWidth: 0
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: {
                            color: '#94a3b8',
                            usePointStyle: true,
                            padding: 15
                        }
                    }
                }
            }
        });
    }

    // Quick action functions
    function createUser() {
        showToast('Create User functionality - This would open a user creation form', 'warning');
    }

    function sendBroadcast() {
        showToast('Send Broadcast functionality - This would open the broadcast messaging interface', 'warning');
    }

    function exportData() {
        showToast('Export Data functionality - This would generate and download data exports', 'warning');
    }

    function generateReport() {
        showToast('Generate Report functionality - This would create detailed system reports', 'warning');
    }

    function editUser(username) {
        showToast(`Edit User: ${username} - This would open the user editing interface`, 'warning');
    }

    // Auto-refresh dashboard data every 30 seconds
    setInterval(function() {
        updateDashboardData();
    }, 30000);

function updateDashboardData() {
    fetch("http://localhost:8080/api/users")
        .then(response => response.json())
        .then(data => {
            // Update total users
            document.getElementById("userCount").textContent = data.length;

            // Filter active users
            const activeUsers = data.filter(user => user.status === 'active');
            document.querySelector('.stat-card:nth-child(2) .stat-number').textContent = activeUsers.length;
        })
        .catch(error => console.error("Error fetching users:", error));
}

// Initial load
updateDashboardData();

// Auto-refresh every 30 sec
setInterval(updateDashboardData, 30000);


</script>
</body>
</html>
